(()=>{"use strict";var e={};({683:function(e,o){var t,c,l,n,r=this&&this.__awaiter||function(e,o,t,c){return new(t||(t=Promise))(function(l,n){function r(e){try{i(c.next(e))}catch(e){n(e)}}function d(e){try{i(c.throw(e))}catch(e){n(e)}}function i(e){var o;e.done?l(e.value):(o=e.value,o instanceof t?o:new t(function(e){e(o)})).then(r,d)}i((c=c.apply(e,o||[])).next())})};function d(e){["toggleBlur","clickBlur","drawBlur"].forEach(e=>{const o=document.getElementById(e);o&&o.classList.remove("active")}),"screen"===e&&document.getElementById("toggleBlur")?document.getElementById("toggleBlur").classList.add("active"):"click"===e&&document.getElementById("clickBlur")?document.getElementById("clickBlur").classList.add("active"):"draw"===e&&document.getElementById("drawBlur")&&document.getElementById("drawBlur").classList.add("active")}Object.defineProperty(o,"__esModule",{value:!0}),document.addEventListener("DOMContentLoaded",()=>r(void 0,void 0,void 0,function*(){try{const e=yield chrome.storage.local.get(["blurMode","hoverUnblur"]),o=e.blurMode||"none",t=e.hoverUnblur||!1;d(o);const c=document.getElementById("hoverUnblur");c&&(c.checked=t)}catch(e){console.error("Failed to initialize popup:",e)}})),null===(t=document.getElementById("toggleBlur"))||void 0===t||t.addEventListener("click",()=>r(void 0,void 0,void 0,function*(){try{const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0}),o="screen"===((yield chrome.storage.local.get("blurMode")).blurMode||"none")?"none":"screen";yield chrome.storage.local.set({blurMode:o}),d(o)}catch(e){console.error("Failed to toggle blur:",e)}})),null===(c=document.getElementById("clickBlur"))||void 0===c||c.addEventListener("click",()=>r(void 0,void 0,void 0,function*(){try{const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0}),o="click"===((yield chrome.storage.local.get("blurMode")).blurMode||"none")?"none":"click";yield chrome.storage.local.set({blurMode:o}),d(o)}catch(e){console.error("Failed to toggle click blur:",e)}})),null===(l=document.getElementById("drawBlur"))||void 0===l||l.addEventListener("click",()=>r(void 0,void 0,void 0,function*(){try{const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0}),o="draw"===((yield chrome.storage.local.get("blurMode")).blurMode||"none")?"none":"draw";yield chrome.storage.local.set({blurMode:o}),d(o)}catch(e){console.error("Failed to toggle draw blur:",e)}})),null===(n=document.getElementById("hoverUnblur"))||void 0===n||n.addEventListener("change",e=>r(void 0,void 0,void 0,function*(){try{const o=e.target;yield chrome.storage.local.set({hoverUnblur:o.checked})}catch(e){console.error("Failed to toggle hover unblur:",e)}}))}})[683].call(e,0,e)})();